<html>
    <head>
        <title>watch.js Test</title>
    </head>
    <body>
        <div data-view="widget1">One</div>
        <hr/>
        <div data-view="widget2">Two</div>
        <hr/>
        <div data-view="widget3">Three</div>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script src="watch.js"></script>

        <script>
            //////// Views /////////////
            var renderings =  
            {
                // RENDERINGS ARE JUST REGULAR JS FUNCTIONS
                widget1: function($w, $elem) { 
                    $elem.css('background-color', $w.topColor);
                },
                widget2: function($w, $elem) {
                    $elem.css('background-color', $w.bottomColor);
                },
                widget3: function($w, $elem) {
                    $elem.css('background-color', $w.bottomColor);
                }
            }

            $(function() {

                $w.init(
                {
                    data: {topColor: 'red', bottomColor: 'red'}, // Or pull this obj from ajax etc.
                    renderings: renderings,
                    debug: true,
                    globalSetup: function($elem) { // run on all views
                        $elem.css('background-color', 'black');
                    }
                }); 

                alert('the first colors will now change due to variable change');
                $w.topColor = 'blue';
                alert('the second colors will now change due to variable change');
                $w.bottomColor = 'green';
            });
        </script>
    </body>
</html>
