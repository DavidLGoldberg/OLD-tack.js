<html>
    <head>
        <title>watch.js Test</title>
    </head>
    <body>
        <div data-tack-view="widget1"></div>
        <hr/>
        <div data-tack-view="widget2"></div>
        <hr/>
        <div data-tack-view="widget3"></div>

        <input data-tack-val="one"></input>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script src="watch.js"></script>
        <script src="tack.js"></script>

        <script>
            // Global
            $('[data-tack-view]').on('tack-change', function(e, data){
                $(e.target).css({height: '30px', backgroundColor: 'black'});
            });

            // Individual handlers
            $('[data-tack-view=widget1]').on('tack-change', function(e, data){
                $(this).css('background-color', TACK.topColor);
                $(this).html(TACK.one);
            });
            $('[data-tack-view=widget2]').on('tack-change', function(e, data){
                $(this).css('background-color', TACK.bottomColor);
                $(this).html(TACK.two);
            });
            $('[data-tack-view=widget3]').on('tack-change', function(e, data){
                $(this).css('background-color', TACK.bottomColor);
                $(this).html(TACK.three);
            });

            $(function() {

                TACK.init(
                {
                    data: {
                        topColor: 'red',
                        bottomColor: 'red',
                        one: 'One',
                        two: 'Two',
                        three: 'Three'
                    }, // Or pull this obj from ajax etc.
                    debug: true,
                }); 

                alert('the first colors will now change due to variable change');
                TACK.topColor = 'blue';
                alert('the second colors will now change due to variable change');
                TACK.bottomColor = 'green';

                alert('do some more in different orders...');
                TACK.two = "222";
                TACK.three = "333";
                TACK.one = "111";
                TACK.one = "211";
                TACK.one = "311";
                TACK.one = "411";
                TACK.one = "511";
                TACK.one = "611";
                TACK.one = "711";
                TACK.one = "811";
                TACK.one = "911";
                TACK.one = "aaaah!";
            });
        </script>
    </body>
</html>
