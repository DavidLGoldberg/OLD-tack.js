<html>
    <head>
        <title>watch.js Test</title>
    </head>
    <body>
        <div data-tack-view="widget1"></div>
        <hr/>
        <div data-tack-view="widget2"></div>
        <hr/>
        <div data-tack-view="widget3"></div>

        <input data-tack-val="one"></input>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script src="watch.js"></script>
        <script src="tack.js"></script>

        <script>
            // Global
            $('[data-tack-view]').on('tack-change', function(e, data){
                $(e.target).css({height: '30px', backgroundColor: 'black'});
            });

            // Individual handlers
            $('[data-tack-view=widget1]').on('tack-change', function(e, data){
                $(this).css('background-color', data.topColor);
                $(this).html(data.one);
            });
            $('[data-tack-view=widget2]').on('tack-change', function(e, data){
                $(this).css('background-color', data.bottomColor);
                $(this).html(data.two);
            });
            $('[data-tack-view=widget3]').on('tack-change', function(e, data){
                $(this).css('background-color', data.bottomColor);
                $(this).html(data.three);
            });

            $(function() {

                TACK.init(
                {
                    data: {
                        topColor: 'red',
                        bottomColor: 'red',
                        one: 'One',
                        two: 'Two',
                        three: 'Three'
                    }, // Or pull this obj from ajax etc.
                    debug: true,
                }); 

                alert('the first colors will now change due to variable change');
                TACK.topColor = 'blue';

                alert('the second colors will now change due to variable change');
                TACK.bottomColor = 'green';

                alert('do some more in different orders...');
                TACK.three = "333";

                TACK.two = "222";

                TACK.one = "1";
                TACK.one = "2";
                TACK.one = "3";
                TACK.one = "4";
                TACK.one = "5";
                TACK.one = "6";
                TACK.one = "7";
                TACK.one = "8";

                TACK.two = "222222222";

                TACK.one = "9";
                TACK.one = "Last One!";
            });
        </script>
    </body>
</html>
